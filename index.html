<!DOCTYPE html>
<!--
    Chatooly Tool Template
    Author: Yael Renous - Studio Video

    ðŸ¤– AI AGENTS: Before modifying this file, ALWAYS check:
    - https://raw.githubusercontent.com/yaelren/chatooly-cdn/main/css/variables.css
    - https://raw.githubusercontent.com/yaelren/chatooly-cdn/main/css/components.css
    - https://raw.githubusercontent.com/yaelren/chatooly-cdn/main/css/base.css
    - Ensure CDN script tag remains: https://yaelren.github.io/chatooly-cdn/js/core.min.js
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ========== EDIT THIS: Your Tool Name ========== -->
    <title>Inflatable Text - Chatooly</title>

    <!-- ========== DO NOT EDIT: Required CDN Styles ========== -->
    <link rel="stylesheet" href="https://yaelren.github.io/chatooly-cdn/css/unified.min.css">

    <!-- Google Fonts - DynaPuff Variable Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&display=swap" rel="stylesheet">

    <style>
        /* Collapsible category styling */
        .chatooly-category {
            margin: 15px 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
        }

        .chatooly-category summary {
            padding: 12px 15px;
            background: var(--surface-elevated);
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            user-select: none;
            transition: background 0.2s;
        }

        .chatooly-category summary:hover {
            background: var(--surface-hover);
        }

        .chatooly-category[open] summary {
            border-bottom: 1px solid var(--border-color);
        }

        .chatooly-category-content {
            padding: 15px;
        }

        .chatooly-category .chatooly-control-group:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <!-- ========== EDIT THIS: Update header title to match your tool ========== -->
    <header class="chatooly-header">
        <div class="chatooly-header-title">Inflatable Text</div>
        <div class="chatooly-header-credit">MADE BY CHATOOLY</div>
    </header>

    <div class="chatooly-app-container">
        <!-- Left Panel: Tool Controls -->
        <div class="chatooly-controls-panel">
            <!-- ========== EDIT THIS: Tool Description ========== -->
            <div class="chatooly-controls-header">
                <p>Create inflatable 3D text and play with geometry parameters in real-time</p>
            </div>

            <div class="chatooly-controls-content">
                <!-- ========== EDIT BELOW: Add Your Tool Controls Here ========== -->

                <!-- Text Input -->
                <div class="chatooly-control-group">
                    <label for="text-input">Bubble Letters</label>
                    <textarea id="text-input" placeholder="Loading font..." rows="4" disabled></textarea>
                </div>

                <!-- Clear All Button (right after text input) -->
                <div class="chatooly-control-group">
                    <button id="clear-btn" class="chatooly-button">Clear All</button>
                </div>

                <!-- Font Size -->
                <div class="chatooly-control-group">
                    <label for="font-size">Font Size</label>
                    <input type="range" id="font-size" min="5" max="30" step="1" value="5">
                    <input type="number" id="font-size-input" min="5" max="30" step="1" value="5">
                </div>

                <!-- Spacing Mode (Radio Buttons) -->
                <div class="chatooly-control-group">
                    <label>Positioning</label>
                    <div style="display: flex; flex-direction: column; gap: 8px; margin-top: 8px;">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="radio" name="spacing-mode" id="spacing-random" value="random">
                            Random
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="radio" name="spacing-mode" id="spacing-automatic" value="automatic" checked>
                            Automatic
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="radio" name="spacing-mode" id="spacing-manual" value="manual">
                            Manual
                        </label>
                    </div>
                </div>

                <!-- Manual Spacing Controls (shown only when Manual is selected) -->
                <div class="chatooly-control-group" id="letter-spacing-group" style="display: none;">
                    <label for="letter-spacing">Letter Spacing</label>
                    <input type="range" id="letter-spacing" min="0.1" max="2" step="0.05" value="0.3">
                    <input type="number" id="letter-spacing-input" min="0.1" max="2" step="0.05" value="0.3">
                </div>

                <div class="chatooly-control-group" id="line-spacing-group" style="display: none;">
                    <label for="line-spacing">Line Spacing</label>
                    <input type="range" id="line-spacing" min="0.1" max="2" step="0.05" value="0.3">
                    <input type="number" id="line-spacing-input" min="0.1" max="2" step="0.05" value="0.3">
                </div>

                <!-- Letter Colors -->
                <details class="chatooly-category" open>
                    <summary>Letter Colors</summary>
                    <div class="chatooly-category-content">
                        <div id="color-palette-list">
                            <!-- Color palette items will be added here dynamically -->
                        </div>
                        <div class="chatooly-control-group">
                            <button id="add-color-btn" class="chatooly-button">+</button>
                        </div>
                    </div>
                </details>

                <!-- Material (flat, no category) -->
                <div class="chatooly-control-group">
                    <label for="material-preset">Bubble Material</label>
                    <select id="material-preset">
                        <option value="helium-latex" selected>Helium Latex</option>
                        <option value="helium-foil">Helium Foil</option>
                        <option value="bubble">Clear Bubble</option>
                        <option value="metallic-bg-aware">Metallic (Background Aware)</option>
                    </select>
                </div>

                <!-- Background -->
                <details class="chatooly-category">
                    <summary>Background</summary>
                    <div class="chatooly-category-content">
                        <div class="chatooly-control-group">
                            <label for="bg-color">Background Color</label>
                            <input type="color" id="bg-color" value="#000000">
                        </div>

                        <div class="chatooly-control-group">
                            <label>
                                <input type="checkbox" id="transparent-bg">
                                Transparent Background
                            </label>
                        </div>

                        <div class="chatooly-control-group">
                            <label for="bg-image">Background Image</label>
                            <input type="file" id="bg-image" accept="image/*" style="display: none;">
                            <button id="bg-image-btn" class="chatooly-button" onclick="document.getElementById('bg-image').click()">Choose File</button>
                            <div id="bg-image-filename" style="display: none; margin-top: 8px; display: flex; align-items: center; gap: 8px;">
                                <span id="bg-image-name" style="flex: 1; font-size: 12px; color: var(--text-secondary);"></span>
                                <button id="clear-bg-btn" style="background: none; border: none; color: var(--text-primary); cursor: pointer; font-size: 18px; padding: 0; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;">Ã—</button>
                            </div>
                        </div>

                        <div class="chatooly-control-group">
                            <label>
                                <input type="checkbox" id="use-bg-as-env">
                                Use Background as Environment Map
                            </label>
                        </div>
                    </div>
                </details>

                <!-- Animation Settings Category -->
                <details class="chatooly-category" open>
                    <summary>Animation</summary>
                    <div class="chatooly-category-content">
                        <div class="chatooly-control-group">
                            <label for="inflation-speed">Inflation Speed</label>
                            <input type="range" id="inflation-speed" min="0.5" max="5" step="0.1" value="1.0">
                            <input type="number" id="inflation-speed-input" min="0.5" max="5" step="0.1" value="1.0">
                        </div>

                        <div class="chatooly-control-group">
                            <label>
                                <input type="checkbox" id="play-typing-animation">
                                Play Typing Animation
                            </label>
                        </div>

                        <div class="chatooly-control-group">
                            <label for="typing-speed">Typing Speed (letter delay)</label>
                            <input type="range" id="typing-speed" min="0.01" max="0.5" step="0.01" value="0.1">
                            <input type="number" id="typing-speed-input" min="0.01" max="0.5" step="0.01" value="0.1">
                        </div>

                        <div class="chatooly-control-group">
                            <label>
                                <input type="checkbox" id="squish-animation">
                                Squish Animation
                            </label>
                        </div>

                        <div class="chatooly-control-group">
                            <label for="squish-speed">Squish Speed</label>
                            <input type="range" id="squish-speed" min="0.5" max="5" step="0.1" value="1.0">
                            <input type="number" id="squish-speed-input" min="0.5" max="5" step="0.1" value="1.0">
                        </div>

                        <div class="chatooly-control-group">
                            <label for="squish-easing">Easing</label>
                            <select id="squish-easing">
                                <option value="linear">Linear</option>
                                <option value="easeInOut" selected>Ease In-Out</option>
                                <option value="easeIn">Ease In</option>
                                <option value="easeOut">Ease Out</option>
                                <option value="bounce">Bounce</option>
                                <option value="elastic">Elastic</option>
                            </select>
                        </div>

                        <div class="chatooly-control-group">
                            <label>
                                <input type="checkbox" id="squish-ping-pong" checked>
                                Ping Pong (loop back and forth)
                            </label>
                        </div>

                        <div class="chatooly-control-group">
                            <label for="squish-width-min">Width Min Size (%)</label>
                            <input type="range" id="squish-width-min" min="20" max="100" step="5" value="50">
                            <input type="number" id="squish-width-min-input" min="20" max="100" step="5" value="50">
                        </div>

                        <div class="chatooly-control-group">
                            <label for="squish-width-max">Width Max Size (%)</label>
                            <input type="range" id="squish-width-max" min="100" max="300" step="10" value="150">
                            <input type="number" id="squish-width-max-input" min="100" max="300" step="10" value="150">
                        </div>

                        <div class="chatooly-control-group">
                            <label for="squish-height-min">Height Min Size (%)</label>
                            <input type="range" id="squish-height-min" min="20" max="100" step="5" value="50">
                            <input type="number" id="squish-height-min-input" min="20" max="100" step="5" value="50">
                        </div>

                        <div class="chatooly-control-group">
                            <label for="squish-height-max">Height Max Size (%)</label>
                            <input type="range" id="squish-height-max" min="100" max="300" step="10" value="150">
                            <input type="number" id="squish-height-max-input" min="100" max="300" step="10" value="150">
                        </div>
                    </div>
                </details>



                <!-- Debug Options -->
                <details class="chatooly-category">
                    <summary>Debug</summary>
                    <div class="chatooly-category-content">
                        <div class="chatooly-control-group">
                            <label>
                                <input type="checkbox" id="show-bounding-box" checked>
                                Show Bounding Box
                            </label>
                        </div>

                        <div class="chatooly-control-group">
                            <label>
                                <input type="checkbox" id="use-bounding-box-size">
                                Use Custom Bounding Box Size
                            </label>
                        </div>

                        <div class="chatooly-control-group">
                            <label for="bounding-box-width">Bounding Box Width</label>
                            <input type="range" id="bounding-box-width" min="10" max="200" step="5" value="50">
                            <input type="number" id="bounding-box-width-input" min="10" max="200" step="5" value="50">
                        </div>

                        <div class="chatooly-control-group">
                            <label for="bounding-box-height">Bounding Box Height</label>
                            <input type="range" id="bounding-box-height" min="10" max="200" step="5" value="40">
                            <input type="number" id="bounding-box-height-input" min="10" max="200" step="5" value="40">
                        </div>
                    </div>
                </details>


                <!-- ========== END EDIT SECTION ========== -->
            </div>
        </div>

        <!-- Right Panel: Preview/Canvas Area -->
        <div class="chatooly-preview-panel">
            <!-- ========== DO NOT EDIT: Required Export Container ========== -->
            <div id="chatooly-container">
                <!-- ========== EDIT BELOW: Add Your Visual Output Here ========== -->
                <!-- This content will be exported as PNG/Video -->
                <!-- IMPORTANT: Your main canvas MUST have id="chatooly-canvas" -->
                <!-- For animations: CDN automatically detects canvas animations and provides video export options -->
                <canvas id="chatooly-canvas"></canvas>
                <!-- ========== END EDIT SECTION ========== -->
            </div>
        </div>
    </div>

    <!-- ========== THREE.JS LIBRARIES ========== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/FontLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/geometries/TextGeometry.js"></script>

    <!-- ========== OPENTYPE.JS FOR CUSTOM FONTS ========== -->
    <script src="https://cdn.jsdelivr.net/npm/opentype.js@1.3.4/dist/opentype.min.js"></script>

    <!-- ========== DO NOT EDIT: Chatooly CDN v2.0 Integration ========== -->
    <!-- This script automatically provides: Dark theme styling + Static/Video export functionality -->
    <!-- Video support: Detects p5.js, Three.js, Canvas animations and provides MediaRecorder API export -->
    <script src="https://yaelren.github.io/chatooly-cdn/js/core.min.js"></script>

    <!-- ========== DO NOT EDIT: Chatooly Configuration ========== -->
    <script src="js/chatooly-config.js"></script>

    <!-- ========== DO NOT EDIT: Your Tool Logic ========== -->
    <script src="js/lighting.js"></script>
    <script src="js/materials.js"></script>
    <script src="js/main.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>
